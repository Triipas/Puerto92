@model IEnumerable<Puerto92.ViewModels.ProductoViewModel>
@{
    ViewBag.Title = "Cat치logo de Productos";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml"; // tu layout principal
}

<h1>游닍 Cat치logo de Productos</h1>

<!-- Estad칤sticas -->
<div class="d-flex flex-wrap gap-3 mb-3">
    <div class="card p-3">Total Productos: <span id="totalProductos">0</span></div>
    <div class="card p-3">Activos: <span id="productosActivos">0</span></div>
    <div class="card p-3">Inactivos: <span id="productosInactivos">0</span></div>
    <div class="card p-3">Categor칤as: <span id="totalCategorias">0</span></div>
</div>

<!-- Acciones -->
<div class="mb-3">
    <button class="btn btn-primary" onclick="openCreateModal()"><i class="fa-solid fa-plus"></i> Nuevo Producto</button>
    <button class="btn btn-secondary" onclick="openBulkUploadModal()"><i class="fa-solid fa-file-import"></i> Carga Masiva</button>
    <button class="btn btn-success" onclick="exportarDatos()"><i class="fa-solid fa-file-export"></i> Exportar CSV</button>
</div>

<!-- Filtros -->
<div class="d-flex gap-2 mb-3">
    <input type="text" id="searchInput" class="form-control" placeholder="Buscar producto...">
    <select id="categoryFilter" class="form-select">
        <option value="todas">Todas las categor칤as</option>
    </select>
</div>

<!-- Tabla de productos -->
<div class="card p-3">
    <table id="productosTable" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>C칩digo</th>
                <th>Nombre / Descripci칩n</th>
                <th>Categor칤a</th>
                <th>Unidad</th>
                <th>Precio Compra</th>
                <th>Precio Venta</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Renderizado por JS -->
        </tbody>
    </table>
</div>

<!-- ================= MODALES ================= -->
@* Cargar modales de Productos usando rutas originales *@
<partial name="Modals/_CreateProductoModal" />
<partial name="Modals/_EditProductoModal" />
<partial name="Modals/_DeactivateProductoModal" />
@section Scripts {
    <script src="~/js/productos-modals.js"></script>
}