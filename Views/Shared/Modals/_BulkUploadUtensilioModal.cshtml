@* Partial View: Modal para Carga Masiva de Utensilios *@

<div id="bulkUploadModal" class="modal-overlay" style="display: none;">
    <div class="modal-container">
        <div class="modal-header">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="background: #0092B8; width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">
                    <i class="fa-solid fa-file-import"></i>
                </div>
                <div>
                    <h2 class="modal-title">Carga Masiva de Utensilios</h2>
                    <p class="modal-subtitle">Sube un archivo CSV para registrar múltiples utensilios de manera rápida</p>
                </div>
            </div>
            <button class="modal-close" onclick="closeModal('bulkUploadModal')">&times;</button>
        </div>

        <form id="bulkUploadForm" asp-action="BulkUpload" asp-controller="Utensilios" method="post" enctype="multipart/form-data">
            <div class="modal-body">
                <div style="margin-bottom: 1rem;">
                    <label class="form-label">Archivo CSV <span style="color: red;">*</span></label>
                    <input type="file" name="ArchivoCSV" class="form-control" accept=".csv" required />
                    <small style="color: #64748B; font-size: 12px;">Asegúrate de que el archivo siga la plantilla oficial. Puedes descargarla aquí:</small>
                    <br />
                    <button type="button" class="btn btn-secondary" onclick="descargarPlantilla()">Descargar Plantilla CSV</button>
                </div>

                <div style="background: #ECFDF5; border-left: 3px solid #10B981; padding: 0.75rem; border-radius: 4px; margin-top: 1rem; font-size: 12px; color: #047857;">
                    <i class="fa-solid fa-info-circle"></i>
                    <span style="margin-left: 0.5rem;">El archivo CSV debe tener las columnas: <strong>Codigo, Nombre, Tipo, Unidad, Precio, Descripcion</strong>.</span>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" onclick="closeModal('bulkUploadModal')">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                    <i class="fa-solid fa-upload"></i>
                    Subir Archivo
                </button>
            </div>
        </form>
    </div>
</div>