@* Modal para Confirmar Guardado de Asignaciones *@

<div id="confirmarAsignacionesModal" class="modal-overlay" style="display: none;">
    <div class="modal-container" style="max-width: 540px;">
        <div class="modal-header" style="background: #F0FDF4; border-bottom: 1px solid #BBF7D0;">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="background: rgba(16, 185, 129, 0.1); width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-floppy-disk" style="color: #10B981; font-size: 22px;"></i>
                </div>
                <div>
                    <h2 class="modal-title" style="color: #047857;">Confirmar Guardado de Asignaciones</h2>
                    <p class="modal-subtitle" style="color: #065F46;" id="confirmarSubtitulo">Se guardarán 2 asignaciones y se enviará notificación a cada empleado.</p>
                </div>
            </div>
            <button class="modal-close" onclick="closeModal('confirmarAsignacionesModal')" style="color: #047857;">&times;</button>
        </div>
        <div class="modal-body">
            <!-- Lista de asignaciones pendientes -->
            <div id="listaAsignacionesPendientes" style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.25rem;">
                <!-- Las asignaciones se cargarán dinámicamente aquí -->
            </div>

            <!-- Información sobre el proceso -->
            <div style="background: #F0FDF4; border-left: 3px solid #10B981; padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                <div style="font-size: 13px; color: #065F46;">
                    <strong style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <i class="fa-solid fa-check-circle"></i>
                        Al confirmar:
                    </strong>
                    <ul style="list-style: none; padding-left: 1.5rem; margin: 0; font-size: 12px; line-height: 1.6;">
                        <li style="position: relative; margin-bottom: 0.25rem;">
                            <span style="position: absolute; left: -1rem;">•</span>
                            Se guardarán todas las asignaciones pendientes
                        </li>
                        <li style="position: relative; margin-bottom: 0.25rem;">
                            <span style="position: absolute; left: -1rem;">•</span>
                            Se registrará fecha de asignación en historial
                        </li>
                        <li style="position: relative; margin-bottom: 0.25rem;">
                            <span style="position: absolute; left: -1rem;">•</span>
                            Se enviará notificación a cada empleado asignado
                        </li>
                        <li style="position: relative;">
                            <span style="position: absolute; left: -1rem;">•</span>
                            Cada empleado podrá registrar su kardex independientemente
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Advertencia sobre independencia de kardex -->
            <div style="background: #DBEAFE; border-left: 3px solid #3B82F6; padding: 1rem; border-radius: 6px;">
                <div style="font-size: 13px; color: #1E40AF;">
                    <strong style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <i class="fa-solid fa-lightbulb"></i>
                        Importante:
                    </strong>
                    <p style="margin: 0; font-size: 12px; line-height: 1.6;">
                        Si hay múltiples asignaciones para el mismo día (por ejemplo: 2 mozos o 3 cocineros), cada uno recibirá su notificación por separado y podrá enviar su kardex de forma independiente.
                    </p>
                </div>
            </div>
        </div>
        <div class="modal-footer" style="border-top: 1px solid #E5E7EB;">
            <button type="button" class="btn btn-cancel" onclick="closeModal('confirmarAsignacionesModal')">Cancelar</button>
            <button type="button" id="btnConfirmarYNotificar" class="btn" style="background: #10B981; color: white;" onclick="guardarYNotificar()">
                <i class="fa-solid fa-paper-plane"></i>
                Confirmar y Notificar
            </button>
        </div>
    </div>
</div>