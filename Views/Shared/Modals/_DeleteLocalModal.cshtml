@* Partial View: Modal para Desactivar Local *@

<div id="deleteLocalModal" class="modal-overlay modal-delete" style="display: none;">
    <div class="modal-container" style="max-width: 550px;">
        <div class="modal-header">
            <div>
                <h2 class="modal-title">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    Desactivar Local
                </h2>
                <p class="modal-subtitle">Esta acción es permanente y eliminará información crítica</p>
            </div>
            <button class="modal-close" onclick="closeModal('deleteLocalModal')">&times;</button>
        </div>
        <div class="modal-body">
            <p style="margin-bottom: 1rem; color: #374151; font-weight: 500;">Está por desactivar el local:</p>
            
            <!-- Información del Local -->
            <div class="delete-info-box">
                <div class="delete-info-row">
                    <span class="delete-info-label">Código:</span>
                    <span id="deleteLocalCodigo">-</span>
                </div>
                <div class="delete-info-row">
                    <span class="delete-info-label">Nombre:</span>
                    <span id="deleteLocalNombre">-</span>
                </div>
                <div class="delete-info-row">
                    <span class="delete-info-label">Dirección:</span>
                    <span id="deleteLocalDireccion">-</span>
                </div>
                <div class="delete-info-row">
                    <span class="delete-info-label">Distrito/Ciudad:</span>
                    <span id="deleteLocalDistritoCiudad">-</span>
                </div>
            </div>

            <!-- Lo que se eliminará -->
            <div class="delete-warning">
                <div class="delete-warning-title">
                    <i class="fa-solid fa-xmark"></i>
                    Se eliminarán permanentemente:
                </div>
                <ul class="delete-warning-list">
                    <li><strong>Usuarios asignados</strong> - <span id="deleteLocalUsuarios">0</span> usuario(s) serán desvinculados</li>
                    <li><strong>Inventario actual</strong> - Productos y utensilios (Valor: S/. <span id="deleteLocalValorInventario">0</span>)</li>
                    <li><strong>Solicitudes pendientes</strong> - Todas las solicitudes no procesadas</li>
                    <li><strong>Pedidos no validados</strong> - En proceso de validación</li>
                    <li><strong>Configuraciones</strong> - Catálogos, precios y ajustes</li>
                </ul>
            </div>

            <!-- Lo que se mantendrá -->
            <div class="delete-note">
                <div class="delete-note-title">
                    <i class="fa-solid fa-database"></i>
                    Se mantendrán (solo consulta):
                </div>
                <ul class="delete-note-list">
                    <li><strong>Kardex históricos</strong> - Todos los movimientos pasados</li>
                    <li><strong>Reportes pasados</strong> - Reportes financieros y operativos</li>
                    <li><strong>Historial de auditoría</strong> - Registro de operaciones</li>
                    <li><strong>Datos estadísticos</strong> - Para análisis histórico</li>
                </ul>
            </div>

            <!-- Advertencia importante -->
            <div style="background: #FEF3C7; border-left: 3px solid #F59E0B; padding: 0.75rem; border-radius: 4px; margin-top: 1rem;">
                <div style="display: flex; align-items: center; gap: 0.5rem; color: #92400E; font-weight: 600; font-size: 13px; margin-bottom: 0.25rem;">
                    <i class="fa-solid fa-exclamation-triangle"></i>
                    <span>Importante - No se permite reactivación:</span>
                </div>
                <ul style="list-style: none; padding-left: 1.5rem; margin: 0; font-size: 12px; color: #78350F;">
                    <li style="position: relative; margin-bottom: 0.25rem;">
                        <span style="position: absolute; left: -1rem;">•</span>
                        Un local desactivado NO puede volver a activarse
                    </li>
                    <li style="position: relative; margin-bottom: 0.25rem;">
                        <span style="position: absolute; left: -1rem;">•</span>
                        Para volver a operar, deberá crear un nuevo local
                    </li>
                    <li style="position: relative; margin-bottom: 0.25rem;">
                        <span style="position: absolute; left: -1rem;">•</span>
                        El código <strong><span id="deleteLocalCodigoWarning">LOC-XX</span></strong> quedará inactivo permanentemente
                    </li>
                    <li style="position: relative;">
                        <span style="position: absolute; left: -1rem;">•</span>
                        Dejará de aparecer en desplegables de asignación
                    </li>
                </ul>
            </div>
        </div>
        <form id="deleteLocalForm" method="post">
            <input type="hidden" id="deleteLocalId" name="id" />
            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" onclick="closeModal('deleteLocalModal')">Cancelar</button>
                <button type="submit" class="btn btn-delete">
                    <i class="fa-solid fa-ban"></i>
                    Sí, Desactivar Local
                </button>
            </div>
        </form>
    </div>
</div>