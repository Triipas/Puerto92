@* Modal para Cancelar Asignación *@

<div id="cancelarAsignacionModal" class="modal-overlay modal-delete" style="display: none;">
    <div class="modal-container" style="max-width: 520px;">
        <div class="modal-header" style="background: #FEF2F2; border-bottom: 1px solid #FEE2E2;">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="background: rgba(239, 68, 68, 0.1); width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-ban" style="color: #EF4444; font-size: 22px;"></i>
                </div>
                <div>
                    <h2 class="modal-title" style="color: #DC2626;">Cancelar Asignación</h2>
                    <p class="modal-subtitle" style="color: #991B1B;">Esta acción no se puede deshacer</p>
                </div>
            </div>
            <button class="modal-close" onclick="closeModal('cancelarAsignacionModal')" style="color: #DC2626;">&times;</button>
        </div>
        <div class="modal-body">
            <input type="hidden" id="cancelarAsignacionId" />
            
            <p style="margin-bottom: 1rem; color: #374151; font-size: 14px; font-weight: 500;">Está por cancelar la asignación:</p>
            
            <!-- Información de la Asignación -->
            <div style="background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: 8px; padding: 1rem; margin-bottom: 1.25rem;">
                <div style="margin-bottom: 0.625rem;">
                    <span style="font-weight: 600; color: #6B7280; font-size: 13px;">Tipo de Kardex:</span>
                    <span id="cancelarTipoKardex" style="color: #1F2937; font-size: 13px; margin-left: 0.5rem;">-</span>
                </div>
                <div style="margin-bottom: 0.625rem;">
                    <span style="font-weight: 600; color: #6B7280; font-size: 13px;">Fecha:</span>
                    <span id="cancelarFecha" style="color: #1F2937; font-size: 13px; margin-left: 0.5rem;">-</span>
                </div>
                <div style="margin-bottom: 0.625rem;">
                    <span style="font-weight: 600; color: #6B7280; font-size: 13px;">Empleado:</span>
                    <span id="cancelarEmpleado" style="color: #1F2937; font-size: 13px; margin-left: 0.5rem;">-</span>
                </div>
                <div>
                    <span style="font-weight: 600; color: #6B7280; font-size: 13px;">Estado:</span>
                    <span id="cancelarEstado" style="color: #1F2937; font-size: 13px; margin-left: 0.5rem;">-</span>
                </div>
            </div>

            <!-- Motivo de Cancelación -->
            <div class="form-group">
                <label class="form-label">Motivo de la Cancelación <span style="color: #EF4444;">*</span></label>
                <textarea id="cancelarMotivo" 
                          class="form-control" 
                          rows="3" 
                          placeholder="Ej: Asignación realizada por error, cambio de planificación..."
                          maxlength="500"
                          required></textarea>
                <small style="color: #64748B; font-size: 12px; display: block; margin-top: 0.375rem;">
                    Este motivo quedará registrado en el historial
                </small>
            </div>

            <!-- Advertencia -->
            <div style="background: #FEF2F2; border-left: 3px solid #DC2626; padding: 1rem; border-radius: 6px;">
                <div style="font-size: 13px; color: #991B1B;">
                    <strong style="display: block; margin-bottom: 0.5rem;">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                        Importante:
                    </strong>
                    <p style="margin: 0; font-size: 12px; line-height: 1.5;">
                        La asignación será eliminada permanentemente y el empleado NO recibirá notificación de la cancelación. Esta acción quedará registrada en el historial.
                    </p>
                </div>
            </div>
        </div>
        <div class="modal-footer" style="border-top: 1px solid #E5E7EB;">
            <button type="button" class="btn btn-cancel" onclick="closeModal('cancelarAsignacionModal')">No, Mantener</button>
            <button type="button" class="btn btn-delete" id="btnConfirmarCancelar" onclick="confirmarCancelacion()">
                <i class="fa-solid fa-ban"></i>
                Sí, Cancelar Asignación
            </button>
        </div>
    </div>
</div>