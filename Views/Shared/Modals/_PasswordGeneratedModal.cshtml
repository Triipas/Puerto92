@* Partial View: Modal de Contraseña Generada *@

<div id="passwordGeneratedModal" class="modal-overlay" style="display: none;">
    <div class="modal-container" style="max-width: 500px;">
        <div class="modal-header" style="background: #ECFDF5; border-bottom: 1px solid #A7F3D0;">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="background: #10B981; width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">
                    <i class="fa-solid fa-check-circle"></i>
                </div>
                <div>
                    <h2 class="modal-title" style="color: #047857;">Usuario Creado Exitosamente</h2>
                    <p class="modal-subtitle" style="color: #059669;">Contraseña temporal generada</p>
                </div>
            </div>
            <button class="modal-close" onclick="closePasswordGeneratedModal()" style="color: #047857;">&times;</button>
        </div>
        <div class="modal-body">
            <!-- Usuario Creado -->
            <div style="background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: 8px; padding: 1rem; margin-bottom: 1.25rem;">
                <h3 style="font-size: 14px; font-weight: 600; color: #6B7280; margin-bottom: 0.75rem;">Usuario creado:</h3>
                <div style="font-size: 14px; color: #1F2937;">
                    <div style="margin-bottom: 0.25rem;">
                        <strong>Nombre:</strong> <span id="generatedUserNombre">-</span>
                    </div>
                    <div style="margin-bottom: 0.25rem;">
                        <strong>Usuario:</strong> <span id="generatedUserUsername">-</span>
                    </div>
                    <div>
                        <strong>Rol:</strong> <span id="generatedUserRol">-</span>
                    </div>
                </div>
            </div>

            <!-- Contraseña Temporal -->
            <div style="background: #EFF6FF; border: 2px solid #3B82F6; border-radius: 8px; padding: 1rem; margin-bottom: 1.25rem;">
                <h3 style="font-size: 14px; font-weight: 600; color: #1E40AF; margin-bottom: 0.75rem;">
                    <i class="fa-solid fa-key"></i> Contraseña Temporal:
                </h3>
                <div style="display: flex; align-items: center; gap: 0.75rem; background: white; padding: 0.75rem; border-radius: 6px; border: 1px solid #BFDBFE;">
                    <code id="generatedPassword" style="flex: 1; font-size: 18px; font-weight: 700; color: #1E40AF; letter-spacing: 1px; word-break: break-all;">
                        Puerto92_XxXxXxXx
                    </code>
                    <button type="button" id="copyPasswordBtn" onclick="copyGeneratedPassword()" class="btn btn-sm" style="background: #3B82F6; color: white; padding: 0.5rem 0.75rem; border: none; cursor: pointer; border-radius: 6px; transition: all 0.2s;" title="Copiar contraseña">
                        <i class="fa-solid fa-copy"></i>
                    </button>
                </div>
                <p style="font-size: 12px; color: #1E40AF; margin-top: 0.75rem; margin-bottom: 0;">
                    <i class="fa-solid fa-info-circle"></i>
                    Esta contraseña se mostrará solo en este momento. Cópiela o anótela para entregarla al usuario.
                </p>
            </div>

            <!-- Instrucciones -->
            <div style="background: #ECFDF5; border-left: 3px solid #10B981; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                <h3 style="font-size: 14px; font-weight: 600; color: #047857; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fa-solid fa-clipboard-check"></i>
                    Instrucciones para el usuario:
                </h3>
                <ul style="list-style: none; padding-left: 0; margin: 0; font-size: 13px; color: #065F46;">
                    <li style="position: relative; padding-left: 1.5rem; margin-bottom: 0.5rem;">
                        <i class="fa-solid fa-arrow-right" style="position: absolute; left: 0; top: 2px; color: #10B981;"></i>
                        Entregue esta contraseña de forma personal y segura
                    </li>
                    <li style="position: relative; padding-left: 1.5rem; margin-bottom: 0.5rem;">
                        <i class="fa-solid fa-arrow-right" style="position: absolute; left: 0; top: 2px; color: #10B981;"></i>
                        El usuario deberá cambiarla en su primer inicio de sesión
                    </li>
                    <li style="position: relative; padding-left: 1.5rem;">
                        <i class="fa-solid fa-arrow-right" style="position: absolute; left: 0; top: 2px; color: #10B981;"></i>
                        No comparta esta contraseña por medios inseguros (email, mensajes)
                    </li>
                </ul>
            </div>

            <!-- Advertencia -->
            <div style="background: #FEF3C7; border-left: 3px solid #F59E0B; padding: 0.875rem; border-radius: 4px;">
                <p style="font-size: 13px; color: #92400E; margin: 0;">
                    <strong style="color: #78350F;">Importante:</strong> Esta contraseña no se volverá a mostrar. Asegúrese de copiarla antes de cerrar este cuadro.
                </p>
            </div>
        </div>
        <div class="modal-footer" style="border-top: 1px solid #E5E7EB;">
            <button type="button" class="btn" onclick="closePasswordGeneratedModal()" style="background: #10B981; color: white;">
                <i class="fa-solid fa-check"></i>
                Entendido
            </button>
        </div>
    </div>
</div>